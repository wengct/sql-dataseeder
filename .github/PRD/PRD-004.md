# PRD-004: è‡ªå®šç¾©é—œéµå­—èˆ‡å›ºå®šå€¼è¨­å®š

## ðŸŽ¯ åŠŸèƒ½ç›®æ¨™
å…è¨±ä½¿ç”¨è€…åœ¨ VS Code è¨­å®šä¸­å®šç¾©ç‰¹å®šçš„é—œéµå­—ï¼ˆæ¬„ä½åç¨±æ¨¡å¼ï¼‰åŠå…¶å°æ‡‰çš„å›ºå®šå€¼ã€‚ç•¶ç”¢ç”Ÿçš„è³‡æ–™æ¬„ä½åç¨±ç¬¦åˆè¨­å®šçš„é—œéµå­—æ™‚ï¼Œå„ªå…ˆä½¿ç”¨ä½¿ç”¨è€…å®šç¾©çš„å›ºå®šå€¼ï¼Œè€Œéžä½¿ç”¨ Faker ç”¢ç”Ÿçš„éš¨æ©Ÿè³‡æ–™ã€‚

## ðŸ“– èƒŒæ™¯èˆ‡å‹•æ©Ÿ
é›–ç„¶ Faker.js æä¾›äº†è±å¯Œçš„å‡è³‡æ–™ï¼Œä½†åœ¨æŸäº›æ¥­å‹™å ´æ™¯ä¸‹ï¼Œä½¿ç”¨è€…å¯èƒ½éœ€è¦ï¼š
1. **ç‰¹å®šæ¥­å‹™ä»£ç¢¼**ï¼šä¾‹å¦‚ `Status` æ¬„ä½æ°¸é æƒ³è¦å¡«å…¥ `'ACTIVE'`ã€‚
2. **å›ºå®šæ¸¬è©¦è³‡æ–™**ï¼šç‚ºäº†æ¸¬è©¦ç‰¹å®šé‚è¼¯ï¼ŒæŸäº›æ¬„ä½éœ€è¦å›ºå®šçš„å€¼ã€‚
3. **Faker æœªæ¶µè“‹çš„æ¬„ä½**ï¼šè‡ªå®šç¾©çš„ç‰¹æ®Šæ¬„ä½åç¨±ï¼ŒFaker ç„¡æ³•è­˜åˆ¥ï¼Œä½†ä½¿ç”¨è€…çŸ¥é“è©²å¡«ä»€éº¼ã€‚

## ðŸ“‹ åŠŸèƒ½éœ€æ±‚

### 1. æ–°å¢ž VS Code è¨­å®šé …
æ–°å¢žä¸€å€‹åç‚º `sql-dataseeder.customKeywordValues` çš„è¨­å®šé …ã€‚
- **é¡žåž‹**ï¼šç‰©ä»¶é™£åˆ— (Array of Objects)
- **å±¬æ€§**ï¼š
  - `pattern`: é—œéµå­—æ¨¡å¼ï¼ˆæ”¯æ´ç°¡å–®å­—ä¸²æˆ–æ­£è¦è¡¨é”å¼ï¼‰ã€‚
  - `value`: å°æ‡‰è¦å¡«å…¥çš„å›ºå®šå€¼ã€‚

ç¯„ä¾‹è¨­å®šï¼š
```json
{
  "sql-dataseeder.customKeywordValues": [
    { "pattern": "Status", "value": "ACTIVE" },
    { "pattern": "IsDeleted", "value": "0" },
    { "pattern": "TenantId", "value": "T-001" }
  ]
}
```

### 2. å„ªå…ˆæ¬Šè™•ç†
è³‡æ–™ç”¢ç”Ÿçš„å„ªå…ˆé †åºæ‡‰èª¿æ•´ç‚ºï¼š
1. **è‡ªå®šç¾©é—œéµå­— (Custom Keyword Values)**ï¼šè‹¥åŒ¹é…å‰‡ä½¿ç”¨å›ºå®šå€¼ã€‚
2. **Faker æ™ºæ…§è­˜åˆ¥**ï¼šè‹¥ç¬¦åˆé è¨­æ¨¡å¼å‰‡ä½¿ç”¨ Faker ç”¢ç”Ÿã€‚
3. **é è¨­éš¨æ©Ÿå­—ä¸²**ï¼šä»¥ä¸Šçš†ä¸ç¬¦åˆæ™‚çš„ä¿åº•æ–¹æ¡ˆã€‚

### 3. åŒ¹é…é‚è¼¯
- æ”¯æ´ä¸åˆ†å¤§å°å¯«çš„å­—ä¸²åŒ¹é…ã€‚
- (é€²éšŽ) æ”¯æ´æ­£è¦è¡¨é”å¼åŒ¹é…ã€‚

## ðŸ›  æŠ€è¡“å¯¦ä½œå»ºè­°

### 1. æ¨¡åž‹è®Šæ›´ (`src/models/fieldPattern.ts`)
åœ¨ `FakerConfig` ä»‹é¢ä¸­æ–°å¢ž `customKeywordValues` å®šç¾©ã€‚

```typescript
export interface CustomKeywordValue {
  readonly pattern: string;
  readonly value: string;
}

export interface FakerConfig {
  readonly enabled: boolean;
  readonly locale: FakerLocale;
  readonly customKeywordValues: CustomKeywordValue[]; // æ–°å¢žæ­¤è¡Œ
}
```

### 2. è¨­å®šæœå‹™æ›´æ–° (`src/services/fakerConfigService.ts`)
ä¿®æ”¹ `FakerConfigService` ä»¥è®€å–æ–°çš„è¨­å®šé …ã€‚

### 3. è³‡æ–™ç”¢ç”Ÿé‚è¼¯æ›´æ–° (`src/services/fakeDataService.ts`)
åœ¨ `generateValue` æ–¹æ³•ä¸­ï¼Œå„ªå…ˆæª¢æŸ¥ `customKeywordValues`ã€‚

```typescript
// å½ä»£ç¢¼ç¯„ä¾‹
const customValue = config.customKeywordValues.find(kv => 
  new RegExp(kv.pattern, 'i').test(columnName)
);

if (customValue) {
  return customValue.value;
}
```

## âœ… é©—æ”¶æ¨™æº–
- [ ] ä½¿ç”¨è€…å¯ä»¥åœ¨ `settings.json` ä¸­è¨­å®š `sql-dataseeder.customKeywordValues`ã€‚
- [ ] ç•¶æ¬„ä½åç¨±ç¬¦åˆè‡ªå®šç¾©é—œéµå­—æ™‚ï¼Œç”¢ç”Ÿçš„ SQL è…³æœ¬æ‡‰åŒ…å«è¨­å®šçš„å›ºå®šå€¼ã€‚
- [ ] è‡ªå®šç¾©å€¼çš„å„ªå…ˆæ¬Šé«˜æ–¼ Faker ç”¢ç”Ÿçš„è³‡æ–™ã€‚
- [ ] æ”¯æ´å¤šå€‹è‡ªå®šç¾©é—œéµå­—è¨­å®šã€‚
- [ ] æ’°å¯«å–®å…ƒæ¸¬è©¦é©—è­‰åŒ¹é…é‚è¼¯èˆ‡å„ªå…ˆæ¬Šã€‚

## ðŸ’¡ ç¯„ä¾‹å ´æ™¯
**è¨­å®šï¼š**
```json
"sql-dataseeder.customKeywordValues": [
  { "pattern": "Role", "value": "Admin" }
]
```

**SQL ç”¢ç”Ÿçµæžœï¼š**
- æ¬„ä½ `UserRole` -> åŒ¹é… `Role` -> å€¼ç‚º `'Admin'`
- æ¬„ä½ `Email` -> ä¸åŒ¹é… -> ä½¿ç”¨ Faker ç”¢ç”Ÿ `'xxx@example.com'`
